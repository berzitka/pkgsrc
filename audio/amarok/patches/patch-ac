$NetBSD: patch-ac,v 1.8 2010/10/02 10:08:31 wiz Exp $

commit 7dbec1171386f182be77942ae43dc3684a96cfc4
Author: Mark Kretschmann <kretschmann@kde.org>
Date:   Sat Oct 2 09:06:11 2010 +0200

    Better workaround for wrong applet size on startup.

    This version also works in the case that Amarok was hidden to
    tray before starting, and it does not produce a jerking motion
    when starting in fullscreen mode.
    Thanks to Felix Geyer <debfx-pkg@fobos.de> for the idea.

    It might worth to include this patch in Amarok packages.

--- src/App.cpp.orig	2010-09-15 21:24:11.000000000 +0000
+++ src/App.cpp
@@ -787,18 +787,6 @@ App::continueInit()
         aUrl.run();
     }
     s_delayedAmarokUrls.clear();
-
-    QTimer::singleShot( 1500, this, SLOT( resizeMainWindow() ) );
-}
-
-
-void App::resizeMainWindow() // SLOT
-{
-    // HACK
-    // This code works around a bug in KDE 4.5, which causes our Plasma applets to show
-    // with a wrong initial size. Remove when this bug is fixed in Plasma.
-    m_mainWindow->resize( m_mainWindow->width(), m_mainWindow->height() - 1 );
-    m_mainWindow->resize( m_mainWindow->width(), m_mainWindow->height() + 1 );
 }
 
 
