$NetBSD: patch-ab,v 1.4 2011/03/01 04:12:45 minskim Exp $

--- configure.orig	2010-06-07 21:57:22.000000000 +0000
+++ configure
@@ -3158,6 +3158,14 @@ case "${canonical}" in
       sparc64-*)        machine=sparc ;;
     esac
   ;;
+  ## DragonFly ports
+  *-*-dragonfly*)
+    opsys=dragonfly
+    case "${canonical}" in
+      i[3456]86-*-dragonfly*)     machine=intel386 ;;
+      amd64-*-dragonfly*|x86_64-*-dragonfly*) machine=amdx86-64 ;;
+    esac
+  ;;
 
   ## FreeBSD kernel + glibc based userland
   *-*-kfreebsd*gnu* )
@@ -7427,9 +7435,9 @@ if test "${HAVE_NS}" = yes; then
   window_system=nextstep
   with_xft=no
   # set up packaging dirs
+  if test "${EN_NS_SELF_CONTAINED}" = yes; then
   exec_prefix=${ns_appbindir}
   libexecdir=${ns_appbindir}/libexec
-  if test "${EN_NS_SELF_CONTAINED}" = yes; then
      prefix=${ns_appresdir}
   fi
   ns_frag=$srcdir/src/ns.mk
