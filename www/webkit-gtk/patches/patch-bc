$NetBSD: patch-bc,v 1.1 2011/01/25 18:38:16 drochner Exp $

--- WebCore/page/FrameView.cpp.orig	2010-09-28 21:02:14.000000000 +0000
+++ WebCore/page/FrameView.cpp
@@ -972,8 +972,11 @@ bool FrameView::scrollToAnchor(const Str
             if (anchorNode && anchorNode->hasTagName(SVGNames::viewTag)) {
                 RefPtr<SVGViewElement> viewElement = anchorNode->hasTagName(SVGNames::viewTag) ? static_cast<SVGViewElement*>(anchorNode) : 0;
                 if (viewElement.get()) {
-                    RefPtr<SVGSVGElement> svg = static_cast<SVGSVGElement*>(SVGLocatable::nearestViewportElement(viewElement.get()));
-                    svg->inheritViewAttributes(viewElement.get());
+		    SVGElement* element = SVGLocatable::nearestViewportElement(viewElement.get());
+		    if (element->hasTagName(SVGNames::svgTag)) {
+			RefPtr<SVGSVGElement> svg = static_cast<SVGSVGElement*>(element);
+			svg->inheritViewAttributes(viewElement.get());
+		    }
                 }
             }
         }
