$NetBSD: patch-aa,v 1.4 2010/05/21 09:36:58 drochner Exp $

--- wscript.orig	2010-05-16 18:32:33.000000000 +0000
+++ wscript
@@ -88,7 +88,7 @@ def configure (conf):
 
     conf.check_tool ('compiler_cc')
     # Circumvent mandatory check for valac
-    if find_program_impl (conf.env, 'valac'):
+    if 0:
         conf.check_tool ('vala')
     else:
          conf.check_message ('program', 'valac', False, False)
@@ -454,7 +454,7 @@ def build (bld):
             'AUTHORS COPYING ChangeLog EXPAT README')
 
     # Install default configuration
-    bld.install_files ('${SYSCONFDIR}/xdg/' + APPNAME + '/', 'data/search')
+    bld.install_files ('${DESTDIR}${PREFIX}/share/examples/' + APPNAME + '/', 'data/search')
 
     if bld.env['RST2HTML']:
         # FIXME: Build only if needed
@@ -533,13 +533,13 @@ def build (bld):
         bld.install_files ('${MDATADIR}/' + APPNAME + '/res', 'data/autosuggestcontrol.css')
 
         # FIXME: Determine the library naming for other platforms
-        if Options.platform == 'linux':
+        if 1:
             extensions = os.listdir ('data/extensions')
             for extension in extensions:
                 folder = 'lib' + extension + '.so'
                 source = 'data/extensions/' + extension +  '/config'
                 if os.path.exists (source):
-                    bld.install_files ('${SYSCONFDIR}/xdg/' + APPNAME + \
+                    bld.install_files ('${DESTDIR}${PREFIX}/share/examples/' + APPNAME + \
                                        '/extensions/' + folder, source)
 
     if Options.commands['check'] or bld.env['tests']:
