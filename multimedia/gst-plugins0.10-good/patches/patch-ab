$NetBSD: patch-ab,v 1.15 2010/02/16 13:16:53 drochner Exp $

--- configure.orig	2010-02-10 22:46:11.000000000 +0000
+++ configure
@@ -22014,6 +22014,9 @@ main ()
 #error GCC before 3.4 has critical bugs compiling inline assembly
 #endif
 #endif
+#ifdef __SUNPRO_C
+#error Sun Studio cannot handle assembly in this package
+#endif
 __asm__ (""::)
   ;
   return 0;
@@ -22303,7 +22306,7 @@ $as_echo "#define HAVE_MMAP 1" >>confdef
 fi
 rm -f conftest.mmap conftest.txt
 
- if test "x$ac_cv_func_mmap_fixed_mapped" == "xyes"; then
+ if test "x$ac_cv_func_mmap_fixed_mapped" = "xyes"; then
   GST_HAVE_MMAP_TRUE=
   GST_HAVE_MMAP_FALSE='#'
 else
@@ -23673,7 +23676,7 @@ rm -f core conftest.err conftest.$ac_obj
 $as_echo "$flag_ok" >&6; }
 
 
-        if test "x$ERROR_CFLAGS" == "x"
+        if test "x$ERROR_CFLAGS" = "x"
     then
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking to see if compiler understands -errwarn=%all" >&5
@@ -26653,6 +26656,10 @@ $as_echo_n "checking Checking for up to 
 #ifdef __sun /* Solaris */
 #include <sys/types.h>
 #include <sys/videodev2.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
 #else /* Linux */
 #include <linux/types.h>
 #define _LINUX_TIME_H
