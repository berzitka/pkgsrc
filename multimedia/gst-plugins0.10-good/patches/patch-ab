$NetBSD: patch-ab,v 1.17 2010/12/03 18:22:50 drochner Exp $

--- configure.orig	2010-12-01 18:16:00.000000000 +0000
+++ configure
@@ -22393,6 +22393,9 @@ main ()
 #error GCC before 3.4 has critical bugs compiling inline assembly
 #endif
 #endif
+#ifdef __SUNPRO_C
+#error Sun Studio cannot handle assembly in this package
+#endif
 __asm__ (""::)
   ;
   return 0;
@@ -23961,7 +23964,7 @@ $as_echo "$as_me: Using $PLUGINDIR as th
             if ( echo yes | grep -e '^201-90-9-0-10-9-0-30-9' >/dev/null ) ; then
       GST_PACKAGE_RELEASE_DATETIME=yes
     else
-            YYYY_MM_DD=`. "${srcdir}/common/extract-release-date-from-doap-file"  $PACKAGE_VERSION_MAJOR.$PACKAGE_VERSION_MINOR.$PACKAGE_VERSION_MICRO   "${srcdir}/gst-plugins-good.doap" `;
+            YYYY_MM_DD=`${SH} "${srcdir}/common/extract-release-date-from-doap-file"  $PACKAGE_VERSION_MAJOR.$PACKAGE_VERSION_MINOR.$PACKAGE_VERSION_MICRO   "${srcdir}/gst-plugins-good.doap" `;
       if test "x$YYYY_MM_DD" != "x"; then
         GST_PACKAGE_RELEASE_DATETIME=$YYYY_MM_DD
       else
@@ -27516,6 +27519,10 @@ $as_echo_n "checking Checking for up to 
 #ifdef __sun /* Solaris */
 #include <sys/types.h>
 #include <sys/videodev2.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
 #else /* Linux */
 #include <linux/types.h>
 #define _LINUX_TIME_H
