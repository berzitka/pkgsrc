$NetBSD: patch-ak,v 1.2 2010/09/21 15:57:30 taca Exp $

* Add some headers to HEADERS_ABI for building properly.
* Install my_compiler.h as public header.  This is the same fix in
  MySQL's repository.

--- include/Makefile.in.orig	2010-08-03 17:28:49.000000000 +0000
+++ include/Makefile.in
@@ -397,6 +397,7 @@ BUILT_SOURCES = $(HEADERS_GEN_MAKE) link
 HEADERS_GEN_CONFIGURE = mysql_version.h
 HEADERS_GEN_MAKE = my_config.h
 HEADERS_ABI = mysql.h mysql_com.h mysql_time.h \
+		mysqld_ername.h mysqld_error.h sql_state.h \
 			my_list.h my_alloc.h typelib.h mysql/plugin.h
 
 pkginclude_HEADERS = $(HEADERS_ABI) my_dbug.h m_string.h my_sys.h \
@@ -405,7 +406,8 @@ pkginclude_HEADERS = $(HEADERS_ABI) my_d
 			decimal.h errmsg.h my_global.h my_net.h \
 			my_getopt.h sslopt-longopts.h my_dir.h \
 			sslopt-vars.h sslopt-case.h sql_common.h keycache.h \
-			m_ctype.h my_attribute.h $(HEADERS_GEN_CONFIGURE) \
+			m_ctype.h my_attribute.h my_compiler.h \
+			$(HEADERS_GEN_CONFIGURE) \
 			$(HEADERS_GEN_MAKE)
 
 noinst_HEADERS = config-win.h config-netware.h my_bit.h \
@@ -416,7 +418,7 @@ noinst_HEADERS = config-win.h config-net
 			my_aes.h my_tree.h my_trie.h hash.h thr_alarm.h \
 			thr_lock.h t_ctype.h violite.h my_md5.h base64.h \
 			my_handler.h my_time.h my_vle.h my_user.h \
-			my_libwrap.h my_stacktrace.h my_compiler.h
+			my_libwrap.h my_stacktrace.h
 
 EXTRA_DIST = mysql.h.pp mysql/plugin.h.pp
 
