$NetBSD: patch-ab,v 1.18 2010/07/22 21:10:52 adam Exp $

--- configure.in.orig	2010-07-19 16:50:08.000000000 +0000
+++ configure.in
@@ -423,6 +423,19 @@ case "${target}:${CC}" in
         echo "* This appears to be ${DEFINEOS} (release not checked)"
       ;;
 
+    *-*-netbsd*:* )
+	DEFINEOS="NETBSD"
+        echo "* This appears to be ${DEFINEOS}"
+      ;;
+    *-*-openbsd*:* )
+	DEFINEOS="OPENBSD"
+        echo "* This appears to be ${DEFINEOS}"
+      ;;
+    *-*-dragonfly*:* )
+	DEFINEOS="DRAGONFLY"
+        echo "* This appears to be ${DEFINEOS}"
+      ;;
+
     * )
         echo "* ${target} is an unknown/unsupported OS"
         echo "*"
@@ -582,8 +595,8 @@ if test ".${PCAPRING_DIR}" != .; then
 else
 if test ".${PCAP_ROOT}" != .; then
   if test -d $PCAP_ROOT &&
-     test -r $PCAP_ROOT/libpcap.a &&
-     test -r $PCAP_ROOT/pcap.h; then
+     test -r $PCAP_ROOT/lib/libpcap.a -o -r $PCAP_ROOT/lib/libpcap.dylib &&
+     test -r $PCAP_ROOT/include/pcap.h; then
        PCAP_ROOT=`cd ${PCAP_ROOT} && pwd`
        CORELIBS="${CORELIBS} -L$PCAP_ROOT -lpcap"
        INCS="${INCS} -I$PCAP_ROOT"
@@ -1816,10 +1829,7 @@ else
    if test -f "3rd_party/GeoLiteCity.dat.gz"; then
      cp 3rd_party/GeoLiteCity.dat.gz .
    else
-     wget http://www.maxmind.com/download/geoip/database/GeoLiteCity.dat.gz
    fi
-
-   gunzip GeoLiteCity.dat.gz
 fi
 
 dnl> --------
@@ -1830,10 +1840,8 @@ else
    if test -f "3rd_party/GeoIPASNum.dat.gz"; then
      cp 3rd_party/GeoIPASNum.dat.gz .
    else
-     wget http://www.maxmind.com/download/geoip/database/asnum/GeoIPASNum.dat.gz
    fi
 
-   gunzip GeoIPASNum.dat.gz
 fi
 else
 AC_MSG_RESULT(Please install GeoIP (http://www.maxmind.com/))
