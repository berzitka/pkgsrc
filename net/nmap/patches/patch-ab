$NetBSD: patch-ab,v 1.14 2011/01/30 01:25:09 markd Exp $

--- configure.orig	2010-07-16 00:43:59.000000000 +0000
+++ configure
@@ -6212,7 +6212,7 @@ if test "${am_cv_pathless_PYTHON+set}" =
   $as_echo_n "(cached) " >&6
 else
 
-	for am_cv_pathless_PYTHON in python python2 python3 python3.0 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 none; do
+	for am_cv_pathless_PYTHON in python python2 python3 python3.0 python2.6 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 none; do
 	  test "$am_cv_pathless_PYTHON" = none && break
 	  prog="import sys
 # split strings by '.' and convert to numeric.  Append some zeros
@@ -6466,7 +6466,7 @@ if test "${am_cv_pathless_PYTHON+set}" =
   $as_echo_n "(cached) " >&6
 else
 
-	for am_cv_pathless_PYTHON in python python2 python3 python3.0 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 none; do
+	for am_cv_pathless_PYTHON in python python2 python3 python3.0 python2.6 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 none; do
 	  test "$am_cv_pathless_PYTHON" = none && break
 	  prog="import sys
 # split strings by '.' and convert to numeric.  Append some zeros
@@ -7664,6 +7664,7 @@ cat >>conftest.$ac_ext <<_ACEOF
 extern char pcap_version[];
 int main() {
   int major, minor1, minor2;
+  exit(0);	/* fool it */
   sscanf(pcap_version,"%d.%d.%d", &major, &minor1, &minor2);
   if (major > 0)
     exit(0);
@@ -7714,6 +7715,8 @@ cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
+#define  __USE_BSD
+#include <sys/types.h>
 #include <stdio.h>
 #ifdef HAVE_SYS_IOCCOM_H
 #include <sys/ioccom.h>
