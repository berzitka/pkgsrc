$NetBSD: patch-aa,v 1.5 2010/07/20 09:00:17 markd Exp $

--- setupext.py.orig	2009-08-23 05:27:32.000000000 +0000
+++ setupext.py
@@ -103,16 +103,16 @@ numpy_inc_dirs = []
 # matplotlib build options, which can be altered using setup.cfg
 options = {'display_status': True,
            'verbose': False,
-           'provide_pytz': 'auto',
-           'provide_dateutil': 'auto',
-           'build_agg': True,
-           'build_gtk': 'auto',
-           'build_gtkagg': 'auto',
-           'build_tkagg': 'auto',
-           'build_wxagg': 'auto',
-           'build_macosx': 'auto',
-           'build_image': True,
-           'build_windowing': True,
+           'provide_pytz': False,
+           'provide_dateutil': False,
+           'build_agg': False,
+           'build_gtk': True,
+           'build_gtkagg': True,
+           'build_tkagg': False,
+           'build_wxagg': False,
+           'build_macosx': False,
+           'build_image': False,
+           'build_windowing': False,
            'backend': None}
 
 # Based on the contents of setup.cfg, determine the build options
@@ -320,11 +320,8 @@ def check_for_libpng():
     return True
 
 def add_base_flags(module):
-    incdirs = filter(os.path.exists,
-                     [os.path.join(p, 'include') for p in basedir[sys.platform] ])
-    libdirs = filter(os.path.exists,
-                     [os.path.join(p, 'lib')     for p in basedir[sys.platform] ]+
-                     [os.path.join(p, 'lib64')     for p in basedir[sys.platform] ] )
+    incdirs = os.path.join(os.environ['LOCALBASE'], 'include')
+    libdirs = os.path.join(os.environ['LOCALBASE'], 'lib')
 
     module.include_dirs.extend(incdirs)
     module.include_dirs.append('.')
