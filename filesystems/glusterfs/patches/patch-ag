$NetBSD: patch-ag,v 1.2 2011/04/18 16:19:48 manu Exp $

NetBSD does not have AI_ADDRCONFIG. This patch has a side effect: glusterfsd
listens on IPv6 adresses only by default. Option transport.socket.bind-address
in volume server-tcp must be used to listen on an IPv4 address.
--- rpc/rpc-lib/src/rpc-transport.h.orig	2011-04-13 09:44:53.000000000 +0200
+++ rpc/rpc-lib/src/rpc-transport.h	2011-04-13 09:45:08.000000000 +0200
@@ -39,8 +39,12 @@
 #ifndef MAX_IOVEC
 #define MAX_IOVEC 16
 #endif
 
+#ifndef AI_ADDRCONFIG
+#define AI_ADDRCONFIG 0
+#endif /* AI_ADDRCONFIG */
+
 /* Given the 4-byte fragment header, returns non-zero if this fragment
  * is the last fragment for the RPC record being assemebled.
  * RPC Record marking standard defines a 32 bit value as the fragment
  * header with the MSB signifying whether the fragment is the last
