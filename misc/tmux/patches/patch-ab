$NetBSD: patch-ab,v 1.6 2010/02/22 19:07:42 drochner Exp $

--- configure.orig	2009-10-25 22:09:56.000000000 +0000
+++ configure
@@ -200,7 +200,7 @@ SRCS+= osdep-darwin.c \
 EOF
 	;;
 # ------------------------------------------------------------------------------
-    FreeBSD|DragonFly)
+    FreeBSD)
 	cat <<EOF >>$CONFIG_H
 #define HAVE_ASPRINTF
 #define HAVE_BZERO
@@ -230,6 +230,38 @@ SRCS+= osdep-freebsd.c \
 EOF
 	;;
 # ------------------------------------------------------------------------------
+    DragonFly)
+	cat <<EOF >>$CONFIG_H
+#define HAVE_ASPRINTF
+#define HAVE_BZERO
+#define HAVE_DAEMON
+#define HAVE_FGETLN
+#define HAVE_FORKPTY
+#define HAVE_GETOPT
+#define HAVE_LIBUTIL_H
+#define HAVE_LOGIN_CAP
+#define HAVE_PATHS_H
+#define HAVE_POLL
+#define HAVE_PROGNAME
+#define HAVE_SETPROCTITLE
+#define HAVE_STRCASESTR
+#define HAVE_STRLCAT
+#define HAVE_STRLCPY
+#define HAVE_STRTONUM
+#define HAVE_STRSEP
+#define HAVE_TREE_H
+#define HAVE_U_INT
+EOF
+	cat <<EOF >>$CONFIG_MK
+LIBS+= -lcurses -lcrypt -lutil
+SRCS+= osdep-unknown.c \
+	compat/vis.c \
+	compat/unvis.c \
+	compat/imsg-buffer.c \
+	compat/imsg.c
+EOF
+	;;
+# ------------------------------------------------------------------------------
     NetBSD)
 	cat <<EOF >>$CONFIG_H
 #define HAVE_ASPRINTF
@@ -252,7 +284,7 @@ EOF
 	cat <<EOF >>$CONFIG_MK
 CPPFLAGS+= -I/usr/pkg/include
 LDFLAGS+= -L/usr/pkg/lib
-LIBS+= -lncurses -lcrypt -lutil
+LIBS+= -lcurses -lcrypt -lutil
 SRCS+= osdep-netbsd.c \
 	compat/strtonum.c \
 	compat/vis.c \
