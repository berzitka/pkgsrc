$NetBSD: patch-am,v 1.1 2010/07/31 20:31:33 dholland Exp $

PR 43291: integer type misuse caught by gcc 4.4

--- src/format.c.orig	2003-03-20 18:34:13.000000000 +0000
+++ src/format.c
@@ -2363,7 +2363,11 @@ p1get_const(FILE *infile, int type, stru
 	    result->vstg = 1;
 	    break;
 	case TYCHAR:
-	    status = fscanf(infile, "%lx", resultp);
+	{
+	    void *tmp;
+	    status = fscanf(infile, "%p", &tmp);
+	    *resultp = tmp;
+	}
 	    break;
 	default:
 	    erri ("p1get_const:  bad constant type '%d'", type);
