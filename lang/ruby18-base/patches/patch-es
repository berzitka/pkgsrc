$NetBSD: patch-es,v 1.1 2010/09/10 03:29:01 taca Exp $

* r26140: (strio_getline): fix for "" as separator.

--- ext/stringio/stringio.c.orig	2009-12-24 08:54:26.000000000 +0000
+++ ext/stringio/stringio.c
@@ -933,7 +933,7 @@ strio_getline(argc, argv, ptr)
 	s = p;
 	while ((p = memchr(p, '\n', e - p)) && (p != e)) {
 	    if (*++p == '\n') {
-		e = p;
+		e = p + 1;
 		break;
 	    }
 	}
